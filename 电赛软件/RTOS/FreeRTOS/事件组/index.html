
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="机器学习与嵌入式开发笔记">
      
      
      
      
      
      
        
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>事件组的基本概念 - 个人技术与学习笔记</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../.." title="个人技术与学习笔记" class="md-header__button md-logo" aria-label="个人技术与学习笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            个人技术与学习笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              事件组的基本概念
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="个人技术与学习笔记" class="md-nav__button md-logo" aria-label="个人技术与学习笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    个人技术与学习笔记
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    首页
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    机器学习 (Machine Learning)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    机器学习 (Machine Learning)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Pytorch 学习
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pytorch 学习
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Pytorch_Learning/nn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    nn 神经网络
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Pytorch_Learning/tensor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tensor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Pytorch_Learning/data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    data 数据处理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Pytorch_Learning/transfrom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    transform
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Pytorch_Learning/tensorboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tensorboard 可视化
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/Pytorch_Learning/Test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Notebook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    电赛软件 (Embedded Software)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    电赛软件 (Embedded Software)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E8%B5%9B%E8%BD%AF%E4%BB%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    简介
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ARM 架构
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    ARM 架构
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ARM%E6%9E%B6%E6%9E%84/ARM%E6%9E%B6%E6%9E%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ARM 架构概述
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ARM%E6%9E%B6%E6%9E%84/ARM%20Cortex-M%20CPU%20%E6%9E%B6%E6%9E%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ARM Cortex-M CPU 架构
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ARM%E6%9E%B6%E6%9E%84/%E9%80%9A%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    通用寄存器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ARM%E6%9E%B6%E6%9E%84/%E7%89%B9%E6%AE%8A%E5%AF%84%E5%AD%98%E5%99%A8xPSR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    特殊寄存器xPSR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    RTOS 实时操作系统
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    RTOS 实时操作系统
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../RTOS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    简介
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BB%BB%E5%8A%A1%E5%A0%86%E6%A0%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    任务堆栈
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BB%BB%E5%8A%A1%E5%88%87%E6%8D%A2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    任务切换
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_3_4" id="__nav_3_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    FreeRTOS
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    FreeRTOS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FreeRTOS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FreeRTOS 简介
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E4%BB%BB%E5%8A%A1%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%A0%E9%99%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    任务创建和删除
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    任务调度
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E4%BB%BB%E5%8A%A1%E9%80%9A%E7%9F%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    任务通知
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    内存管理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%90%8C%E6%AD%A5%E3%80%81%E4%BA%92%E6%96%A5%E4%B8%8E%E9%80%9A%E4%BF%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    同步、互斥与通信
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%98%9F%E5%88%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    队列
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E9%98%9F%E5%88%97%E9%9B%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    队列集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E4%B8%AD%E6%96%AD%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    中断管理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%A7%BB%E6%A4%8D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    移植
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    STM32 HAL 库
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    STM32 HAL 库
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../STM32%20HAL%E5%BA%93/STM32%20HAL%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    库介绍
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../STM32%20HAL%E5%BA%93/GPIO%E6%93%8D%E4%BD%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GPIO 操作
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../STM32%20HAL%E5%BA%93/NVIC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NVIC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../STM32%20HAL%E5%BA%93/DMA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DMA
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../STM32%20HAL%E5%BA%93/ADC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../STM32%20HAL%E5%BA%93/%E5%AE%9A%E6%97%B6%E5%99%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    定时器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../STM32%20HAL%E5%BA%93/FLASH/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FLASH
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../STM32%20HAL%E5%BA%93/BKP%26RTC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BKP & RTC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../STM32%20HAL%E5%BA%93/WDG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WDG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../STM32%20HAL%E5%BA%93/%E7%A1%AC%E4%BB%B6%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    硬件通信协议
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    通信协议
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    通信协议
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    简介
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/I2C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I2C
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/SPI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/USART/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    USART
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/CAN/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CAN
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    电控算法
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    电控算法
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E6%8E%A7%E7%AE%97%E6%B3%95/%E7%94%B5%E6%8E%A7%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    简介
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E6%8E%A7%E7%AE%97%E6%B3%95/PID/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PID
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E6%8E%A7%E7%AE%97%E6%B3%95/LQR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LQR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E6%8E%A7%E7%AE%97%E6%B3%95/SMC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SMC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    视觉应用
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    视觉应用
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E8%A7%86%E8%A7%89/%E8%A7%86%E8%A7%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    视觉
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E8%A7%86%E8%A7%89/Micropython%20%26%20K230/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Micropython & K230
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        什么是事件组
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        事件组的形象比喻
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="_1">事件组的基本概念</h1>
<h2 id="_2">什么是事件组</h2>
<p>事件组是一种用于多任务同步的机制，允许任务等待多个事件中的任意一个或全部发生。可以理解为<strong>多条件等待系统</strong>：</p>
<ul>
<li><strong>每个事件用一个位表示</strong>：32位系统支持32个独立事件</li>
<li><strong>任务可以等待事件组合</strong>：可以等待任意事件、所有事件或特定事件组合</li>
<li><strong>事件状态持久化</strong>：事件一旦发生就会保持，直到被显式清除</li>
<li><strong>多任务可以等待相同事件</strong>：支持一对多的通知机制</li>
</ul>
<h2 id="_3">事件组的形象比喻</h2>
<p><strong>机场航班信息牌</strong>：
- 每个航班状态用一个指示灯表示（事件位）
- 旅客可以等待特定航班（等待单个事件）
- 接机人员可以等待多个航班中的任意一个（等待任意事件）
- 旅行团领队需要等待所有团员航班到达（等待所有事件）
- 航班到达后指示灯保持亮起，直到被重置（事件持久化）</p>
<h1 id="_4">事件组的核心特点</h1>
<h2 id="_5">优势特性</h2>
<p><strong>多条件等待</strong>：
- 可以同时等待多个事件条件
- 支持"任意事件"和"所有事件"两种等待模式
- 灵活的事件组合条件</p>
<p><strong>广播通知</strong>：
- 一个事件可以唤醒多个等待的任务
- 支持一对多的通信模式
- 高效的事件分发机制</p>
<p><strong>无丢失事件</strong>：
- 事件状态会一直保持
- 不会被新事件覆盖
- 确保不会错过重要事件</p>
<h2 id="_6">适用场景</h2>
<p><strong>多传感器数据收集</strong>：</p>
<pre><code class="language-c">// 等待温度、湿度、压力传感器数据全部就绪
xEventGroupWaitBits(events, TEMP_READY | HUMID_READY | PRESS_READY, 
                   pdTRUE, pdTRUE, portMAX_DELAY);
</code></pre>
<p><strong>系统状态监控</strong>：</p>
<pre><code class="language-c">// 等待任意错误事件发生
xEventGroupWaitBits(events, ERROR_MASK, pdTRUE, pdFALSE, portMAX_DELAY);
</code></pre>
<p><strong>多阶段初始化</strong>：</p>
<pre><code class="language-c">// 等待所有子系统初始化完成
xEventGroupWaitBits(events, INIT_MASK, pdTRUE, pdTRUE, portMAX_DELAY);
</code></pre>
<h1 id="freertos">FreeRTOS事件组操作函数</h1>
<h2 id="_7">创建和删除函数</h2>
<h3 id="xeventgroupcreate-">xEventGroupCreate - 创建事件组</h3>
<pre><code class="language-c">EventGroupHandle_t xEventGroupCreate(void);
</code></pre>
<p><strong>返回值</strong>：
- 成功：事件组句柄
- 失败：NULL（内存不足时）</p>
<p><strong>创建示例</strong>：</p>
<pre><code class="language-c">EventGroupHandle_t xSystemEvents;

void vInitializeEventGroups(void) {
    xSystemEvents = xEventGroupCreate();
    if(xSystemEvents == NULL) {
        printf(&quot;ERROR: Failed to create system events group\n&quot;);
    } else {
        printf(&quot;System events group created successfully\n&quot;);
    }
}
</code></pre>
<h3 id="xeventgroupcreatestatic-">xEventGroupCreateStatic - 静态创建</h3>
<pre><code class="language-c">EventGroupHandle_t xEventGroupCreateStatic(StaticEventGroup_t *pxEventGroupBuffer);
</code></pre>
<h3 id="veventgroupdelete-">vEventGroupDelete - 删除事件组</h3>
<pre><code class="language-c">void vEventGroupDelete(EventGroupHandle_t xEventGroup);
</code></pre>
<h2 id="_8">事件设置函数</h2>
<h3 id="xeventgroupsetbits-">xEventGroupSetBits - 设置事件位</h3>
<pre><code class="language-c">EventBits_t xEventGroupSetBits(EventGroupHandle_t xEventGroup,
                              const EventBits_t uxBitsToSet);
</code></pre>
<p><strong>功能</strong>：设置指定的事件位，并返回设置后的事件组状态</p>
<p><strong>使用示例</strong>：</p>
<pre><code class="language-c">// 设置温度传感器就绪事件
EventBits_t current_bits = xEventGroupSetBits(xSystemEvents, TEMP_READY_BIT);
printf(&quot;Event bits after setting: 0x%08lX\n&quot;, current_bits);
</code></pre>
<h3 id="xeventgroupsetbitsfromisr-">xEventGroupSetBitsFromISR - 中断中设置事件位</h3>
<pre><code class="language-c">BaseType_t xEventGroupSetBitsFromISR(EventGroupHandle_t xEventGroup,
                                    const EventBits_t uxBitsToSet,
                                    BaseType_t *pxHigherPriorityTaskWoken);
</code></pre>
<h2 id="_9">事件等待函数</h2>
<h3 id="xeventgroupwaitbits-">xEventGroupWaitBits - 等待事件位</h3>
<pre><code class="language-c">EventBits_t xEventGroupWaitBits(EventGroupHandle_t xEventGroup,
                               const EventBits_t uxBitsToWaitFor,
                               const BaseType_t xClearOnExit,
                               const BaseType_t xWaitForAllBits,
                               TickType_t xTicksToWait);
</code></pre>
<p><strong>参数详解</strong>：
- <code>uxBitsToWaitFor</code>：要等待的事件位掩码
- <code>xClearOnExit</code>：退出时是否清除等待的事件位
  - <code>pdTRUE</code>：成功等待后清除这些事件位
  - <code>pdFALSE</code>：保持事件位状态不变
- <code>xWaitForAllBits</code>：等待模式
  - <code>pdTRUE</code>：等待所有指定事件位都设置
  - <code>pdFALSE</code>：等待任意指定事件位设置
- <code>xTicksToWait</code>：超时时间</p>
<p><strong>返回值</strong>：
- 成功：满足条件的事件位状态
- 超时：超时时刻的事件位状态（可能不满足等待条件）</p>
<h2 id="_10">事件清除函数</h2>
<h3 id="xeventgroupclearbits-">xEventGroupClearBits - 清除事件位</h3>
<pre><code class="language-c">EventBits_t xEventGroupClearBits(EventGroupHandle_t xEventGroup,
                                const EventBits_t uxBitsToClear);
</code></pre>
<h3 id="xeventgroupclearbitsfromisr-">xEventGroupClearBitsFromISR - 中断中清除事件位</h3>
<pre><code class="language-c">BaseType_t xEventGroupClearBitsFromISR(EventGroupHandle_t xEventGroup,
                                      const EventBits_t uxBitsToClear);
</code></pre>
<h2 id="_11">事件查询函数</h2>
<h3 id="xeventgroupgetbits-">xEventGroupGetBits - 获取当前事件位状态</h3>
<pre><code class="language-c">EventBits_t xEventGroupGetBits(EventGroupHandle_t xEventGroup);
</code></pre>
<h3 id="xeventgroupgetbitsfromisr-">xEventGroupGetBitsFromISR - 中断中获取事件位状态</h3>
<pre><code class="language-c">EventBits_t xEventGroupGetBitsFromISR(EventGroupHandle_t xEventGroup);
</code></pre>
<h2 id="_12">同步操作函数</h2>
<h3 id="xeventgroupsync-">xEventGroupSync - 事件组同步</h3>
<pre><code class="language-c">EventBits_t xEventGroupSync(EventGroupHandle_t xEventGroup,
                           const EventBits_t uxBitsToSet,
                           const EventBits_t uxBitsToWaitFor,
                           TickType_t xTicksToWait);
</code></pre>
<p><strong>特殊功能</strong>：原子操作，先设置指定事件位，然后等待指定事件位条件</p>
<h1 id="freertos_1">FreeRTOS事件组使用模式</h1>
<h2 id="1and">模式1：多条件等待（AND条件）</h2>
<pre><code class="language-c">// 定义事件位
#define SENSOR_TEMP_READY    (1UL &lt;&lt; 0)
#define SENSOR_HUMID_READY   (1UL &lt;&lt; 1)
#define SENSOR_PRESS_READY   (1UL &lt;&lt; 2)
#define ALL_SENSORS_READY    (SENSOR_TEMP_READY | SENSOR_HUMID_READY | SENSOR_PRESS_READY)

void vDataFusionTask(void *pvParameters) {
    EventBits_t uxBits;

    while(1) {
        // 等待所有传感器数据就绪
        uxBits = xEventGroupWaitBits(xSensorEvents, 
                                    ALL_SENSORS_READY,    // 等待的事件位
                                    pdTRUE,              // 成功等待后清除这些位
                                    pdTRUE,              // 需要等待所有位
                                    portMAX_DELAY);      // 无限期等待

        if((uxBits &amp; ALL_SENSORS_READY) == ALL_SENSORS_READY) {
            // 所有传感器数据都已就绪，进行数据融合
            perform_data_fusion();
            printf(&quot;Data fusion completed\n&quot;);
        }
    }
}

void vTemperatureSensorTask(void *pvParameters) {
    while(1) {
        // 读取温度传感器
        read_temperature_sensor();

        // 设置温度就绪事件
        xEventGroupSetBits(xSensorEvents, SENSOR_TEMP_READY);

        vTaskDelay(1000 / portTICK_PERIOD_MS);
    }
}
</code></pre>
<h2 id="2or">模式2：任意条件等待（OR条件）</h2>
<pre><code class="language-c">#define NETWORK_CONNECTED    (1UL &lt;&lt; 0)
#define BLUETOOTH_CONNECTED  (1UL &lt;&lt; 1)
#define SERIAL_CONNECTED     (1UL &lt;&lt; 2)
#define ANY_CONNECTION       (NETWORK_CONNECTED | BLUETOOTH_CONNECTED | SERIAL_CONNECTED)

void vCommunicationTask(void *pvParameters) {
    EventBits_t uxBits;

    while(1) {
        // 等待任意连接建立
        uxBits = xEventGroupWaitBits(xCommEvents,
                                    ANY_CONNECTION,      // 等待任意连接事件
                                    pdFALSE,            // 不清除事件位
                                    pdFALSE,            // 任意事件位设置即可
                                    portMAX_DELAY);

        // 检查具体哪个连接就绪
        if(uxBits &amp; NETWORK_CONNECTED) {
            printf(&quot;Network connection established\n&quot;);
            handle_network_communication();
        }
        if(uxBits &amp; BLUETOOTH_CONNECTED) {
            printf(&quot;Bluetooth connection established\n&quot;);
            handle_bluetooth_communication();
        }
        if(uxBits &amp; SERIAL_CONNECTED) {
            printf(&quot;Serial connection established\n&quot;);
            handle_serial_communication();
        }
    }
}
</code></pre>
<h2 id="3">模式3：事件组同步</h2>
<pre><code class="language-c">#define TASK1_COMPLETE       (1UL &lt;&lt; 0)
#define TASK2_COMPLETE       (1UL &lt;&lt; 1)
#define TASK3_COMPLETE       (1UL &lt;&lt; 2)
#define ALL_TASKS_COMPLETE   (TASK1_COMPLETE | TASK2_COMPLETE | TASK3_COMPLETE)

void vSynchronizationTask(void *pvParameters) {
    EventBits_t uxBits;

    while(1) {
        // 使用同步功能：设置自己的完成位，并等待所有任务完成
        uxBits = xEventGroupSync(xSyncEvents,
                                TASK1_COMPLETE,         // 设置自己的完成位
                                ALL_TASKS_COMPLETE,     // 等待所有任务完成
                                portMAX_DELAY);

        // 所有任务都已完成，执行同步后操作
        printf(&quot;All tasks synchronized, performing collective operation\n&quot;);
        perform_collective_operation();

        // 清除所有完成位，准备下一轮同步
        xEventGroupClearBits(xSyncEvents, ALL_TASKS_COMPLETE);

        vTaskDelay(5000 / portTICK_PERIOD_MS);
    }
}
</code></pre>
<h1 id="cmsis-rtos-v2">CMSIS-RTOS v2 事件标志等效功能</h1>
<h2 id="cmsis-rtos-v2_1">CMSIS-RTOS v2 事件标志</h2>
<p>CMSIS-RTOS v2 使用<strong>事件标志（Event Flags）</strong> 对象来提供类似FreeRTOS事件组的功能。</p>
<h2 id="_13">事件标志函数对照表</h2>
<table>
<thead>
<tr>
<th>FreeRTOS事件组</th>
<th>CMSIS-RTOS v2事件标志</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>xEventGroupCreate()</code></td>
<td><code>osEventFlagsNew()</code></td>
<td>创建事件标志对象</td>
</tr>
<tr>
<td><code>vEventGroupDelete()</code></td>
<td><code>osEventFlagsDelete()</code></td>
<td>删除事件标志对象</td>
</tr>
<tr>
<td><code>xEventGroupSetBits()</code></td>
<td><code>osEventFlagsSet()</code></td>
<td>设置事件标志</td>
</tr>
<tr>
<td><code>xEventGroupClearBits()</code></td>
<td><code>osEventFlagsClear()</code></td>
<td>清除事件标志</td>
</tr>
<tr>
<td><code>xEventGroupWaitBits()</code></td>
<td><code>osEventFlagsWait()</code></td>
<td>等待事件标志</td>
</tr>
<tr>
<td><code>xEventGroupGetBits()</code></td>
<td><code>osEventFlagsGet()</code></td>
<td>获取当前事件标志状态</td>
</tr>
<tr>
<td><code>xEventGroupSync()</code></td>
<td>无直接等效</td>
<td>需要手动实现</td>
</tr>
</tbody>
</table>
<h2 id="cmsis-rtos-v2_2">CMSIS-RTOS v2 事件标志详细函数</h2>
<h3 id="oseventflagsnew-">osEventFlagsNew - 创建事件标志</h3>
<pre><code class="language-c">osEventFlagsId_t osEventFlagsNew(const osEventFlagsAttr_t *attr);
</code></pre>
<p><strong>创建示例</strong>：</p>
<pre><code class="language-c">osEventFlagsId_t system_events;

void initialize_event_flags(void) {
    osEventFlagsAttr_t event_attr = {
        .name = &quot;SystemEvents&quot;
    };
    system_events = osEventFlagsNew(&amp;event_attr);

    if(system_events == NULL) {
        printf(&quot;ERROR: Failed to create event flags\n&quot;);
    }
}
</code></pre>
<h3 id="oseventflagsset-">osEventFlagsSet - 设置事件标志</h3>
<pre><code class="language-c">uint32_t osEventFlagsSet(osEventFlagsId_t ef_id, uint32_t flags);
</code></pre>
<ul>
<li><code>flags</code> 对应事件标志位，比如0000 0010 就是对应第二个事件。若第二个事件发生，则会返回该位为1的结果。</li>
</ul>
<h3 id="oseventflagsclear-">osEventFlagsClear - 清除事件标志</h3>
<pre><code class="language-c">uint32_t osEventFlagsClear(osEventFlagsId_t ef_id, uint32_t flags);
</code></pre>
<h3 id="oseventflagswait-">osEventFlagsWait - 等待事件标志</h3>
<pre><code class="language-c">uint32_t osEventFlagsWait(osEventFlagsId_t ef_id, uint32_t flags, uint32_t options, uint32_t timeout);
</code></pre>
<p><strong>等待选项</strong>：</p>
<pre><code class="language-c">osFlagsWaitAny    // 等待任意指定标志
osFlagsWaitAll    // 等待所有指定标志
osFlagsNoClear    // 等待后不清除标志
</code></pre>
<h3 id="oseventflagsget-">osEventFlagsGet - 获取事件标志状态</h3>
<pre><code class="language-c">uint32_t osEventFlagsGet(osEventFlagsId_t ef_id);
</code></pre>
<h3 id="oseventflagsdelete-">osEventFlagsDelete - 删除事件标志</h3>
<pre><code class="language-c">osStatus_t osEventFlagsDelete(osEventFlagsId_t ef_id);
</code></pre>
<h1 id="_14">事件组/事件标志最佳实践</h1>
<h2 id="_15">设计原则</h2>
<p><strong>合理规划事件位</strong>：</p>
<pre><code class="language-c">// 按功能分组事件位
#define SENSOR_EVENTS   0x000000FF  // 低8位：传感器事件
#define NETWORK_EVENTS  0x0000FF00  // 中8位：网络事件  
#define SYSTEM_EVENTS   0x00FF0000  // 高8位：系统事件
#define USER_EVENTS     0xFF000000  // 最高8位：用户事件
</code></pre>
<p><strong>避免事件位冲突</strong>：</p>
<pre><code class="language-c">// 不好的做法：随意使用事件位
#define EVENT_A (1UL &lt;&lt; 0)
#define EVENT_B (1UL &lt;&lt; 1) 
// 其他模块可能意外使用相同位

// 好的做法：模块化分配
#define MODULE1_EVENT_A (1UL &lt;&lt; 0)
#define MODULE1_EVENT_B (1UL &lt;&lt; 1)
#define MODULE2_EVENT_A (1UL &lt;&lt; 8)  // 从第8位开始
#define MODULE2_EVENT_B (1UL &lt;&lt; 9)
</code></pre>
<h2 id="_16">性能优化</h2>
<p><strong>减少不必要的等待</strong>：</p>
<pre><code class="language-c">// 不好的做法：频繁等待短超时
while(1) {
    flags = xEventGroupWaitBits(events, MASK, pdTRUE, pdFALSE, 10);
    if(flags &amp; MASK) {
        // 处理事件
    }
}

// 好的做法：合理设置超时或使用无超时等待
flags = xEventGroupWaitBits(events, MASK, pdTRUE, pdFALSE, portMAX_DELAY);
// 或者根据业务需求设置合理超时
</code></pre>
<p><strong>批量处理事件</strong>：</p>
<pre><code class="language-c">void event_processor_task(void *pvParameters) {
    EventBits_t uxBits;

    while(1) {
        // 等待多个相关事件
        uxBits = xEventGroupWaitBits(xEvents, 
                                    EVENT_MASK1 | EVENT_MASK2 | EVENT_MASK3,
                                    pdFALSE, pdFALSE, portMAX_DELAY);

        // 批量处理所有待处理事件
        if(uxBits &amp; EVENT_MASK1) {
            handle_event1();
            xEventGroupClearBits(xEvents, EVENT_MASK1);
        }
        if(uxBits &amp; EVENT_MASK2) {
            handle_event2(); 
            xEventGroupClearBits(xEvents, EVENT_MASK2);
        }
        if(uxBits &amp; EVENT_MASK3) {
            handle_event3();
            xEventGroupClearBits(xEvents, EVENT_MASK3);
        }
    }
}
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Your Name
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": ["navigation.expand", "navigation.indexes", "search.suggest", "search.highlight"], "search": "../../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>